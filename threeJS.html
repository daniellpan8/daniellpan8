<!DOCTYPE html>
<html>
<head>
  	<meta charset="utf-8">
  	<title>Three.js Example</title>
  	<style>
    	body { margin: 0; }
    	canvas { width: 100%; height: 100%; }
  	</style>
</head>
<body>

  	<script type="module">

	    import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.121.1/build/three.module.js';
	    import { OrbitControls } from 'https://cdn.jsdelivr.net/npm/three@0.121.1/examples/jsm/controls/OrbitControls.js';

	    const renderer = new THREE.WebGLRenderer();
	    renderer.setSize(window.innerWidth, window.innerHeight);
	    document.body.appendChild(renderer.domElement);

	    const scene = new THREE.Scene();

	    const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 10000);
	    camera.position.set(0, 20, 100);
	    camera.position.set(50, 30, 50);

	    //orbit controls
	    const controls = new OrbitControls(camera, renderer.domElement);

	    //torus
	    /*
	    const geometry = new THREE.TorusGeometry(10, 3, 16, 100);
	    const material = new THREE.MeshPhongMaterial({color: 0xfc03d7});
	    const torus = new THREE.Mesh(geometry, material);
	    scene.add(torus);
	    

	    //torusKnot
	    const torusKnotGeometry = new THREE.TorusKnotGeometry(10, 1.3, 300, 20, 8, 7);
	    const material = new THREE.MeshPhongMaterial({color: 0xfc03d7});
		const torusKnot = new THREE.Mesh(torusKnotGeometry, material);
		scene.add(torusKnot);

		*/
		var geo = new THREE.PlaneBufferGeometry(2000, 2000, 8, 8);
		var mat = new THREE.MeshPhongMaterial({ color: 0x404040, side: THREE.SingleSide });
		var plane = new THREE.Mesh(geo, mat);
		plane.rotation.x = Math.PI/2;
		plane.rotation.y = Math.PI;

		scene.add(plane);
		plane.position.set(0,-10,0);

	    //directionalLight
	    const light = new THREE.PointLight(0xffffff, 0.5, 100);
	    light.position.set(15, 0, 15);
	    scene.add(light);

	    const light2 = new THREE.PointLight(0xffffff, 0.5, 100);
	    light2.position.set(-15, 0, -15);
	    scene.add(light2);

	    const light4 = new THREE.PointLight(0xffffff, 1, 200);
	    light4.position.set(0, 50, 0);
	    scene.add(light4);


	    //ambientLight
	    const light3 = new THREE.AmbientLight(0x404040);
		scene.add(light3);

		//directional light source
		var lightGeometry = new THREE.SphereGeometry(2, 50, 50, 0, Math.PI * 2, 0, Math.PI * 2);
		const lightMaterial = new THREE.MeshBasicMaterial( { color: 0xffffff } );
		var lightSphere = new THREE.Mesh(lightGeometry, lightMaterial);
		lightSphere.position.set(0, 50, 0);
	    scene.add(lightSphere);


	    //sphere
	    var geometry2 = new THREE.SphereGeometry(2, 50, 50, 0, Math.PI * 2, 0, Math.PI * 2);
		const material2 = new THREE.MeshBasicMaterial( { color: 0xffff00, transparent: true, opacity: 0.5} );
		var sphere = new THREE.Mesh(geometry2, material2);
		sphere.position.set(15,0,15);

		//var geometry6 = new THREE.SphereGeometry(2, 50, 50, 0, Math.PI * 2, 0, Math.PI * 2);
		var sphere2 = new THREE.Mesh(geometry2, material2);
		sphere2.position.set(-15,0,-15);


		//sphereAxis
		var geometry3 = new THREE.TorusGeometry(21.3, 0.5, 10, 100);
		const material3 = new THREE.MeshBasicMaterial({color: 0xffff00, wireframe: true, transparent: true, opacity: 0.1});
	    const sphereAxis = new THREE.Mesh(geometry3, material3);
	    scene.add(sphereAxis);
	    sphereAxis.rotation.x = Math.PI/2;

	    
	    //sphereAxis2
	    const sphereAxis2 = new THREE.Mesh(geometry3, material3);
	    scene.add(sphereAxis2);
	    sphereAxis2.rotation.x = Math.PI/2;
	    sphereAxis2.position.set(0, 15, 0);

	    /*
	    //sphereAxis2
	    var geometry5 = new THREE.TorusGeometry(40, 0.5, 10, 100);
	    const sphereAxis3 = new THREE.Mesh(geometry5, material3);
	    scene.add(sphereAxis3);
	    sphereAxis3.rotation.x = Math.PI/2;
		*/
		
		//gridHelper
	    const gridHelper = new THREE.GridHelper(200, 50, 0xfc03d7, 0xffff00);
		gridHelper.material.opacity = 0.5;
		gridHelper.material.transparent = true;
		scene.add(gridHelper);
		//gridHelper.rotation.x = Math.PI/2;
		//gridHelper.rotation.y = Math.PI/1;
		
		//pivot
		var pivot = new THREE.Object3D();
		//add sphere and light
		pivot.add(sphere);
		pivot.add(light);
		scene.add(pivot);
		pivot.position.set(0, 0, 0);
		var pivot2 = new THREE.Object3D();
		pivot2.add(sphere2);
		pivot2.add(light2);
		scene.add(pivot2);
		pivot2.position.set(0, 15, 0);


		//ice cream
		//pink sphere
		var iceCreamGeometry = new THREE.SphereGeometry(5.8, 50, 50, 0, Math.PI * 2, 0, Math.PI * 2);
		const iceCreamMaterial = new THREE.MeshPhongMaterial( { color: 0x4b2d2a } );
		var iceCreamSphere = new THREE.Mesh(iceCreamGeometry, iceCreamMaterial);
		iceCreamSphere.position.set(0,10,0);
		scene.add(iceCreamSphere);

		//pink torus
		const iceCreamTorusGeometry = new THREE.TorusGeometry(5, 1.4, 16, 100);
		const iceCreamTorus2 = new THREE.Mesh(iceCreamTorusGeometry, iceCreamMaterial);
	    scene.add(iceCreamTorus2);
	    iceCreamTorus2.rotation.x = Math.PI / 2;
	    iceCreamTorus2.position.set(0, 8, 0);

	    //white sphere
		const iceCreamMaterial2 = new THREE.MeshPhongMaterial( { color: 0xf6b3dc } );
		var iceCreamSphere2 = new THREE.Mesh(iceCreamGeometry, iceCreamMaterial2);
		iceCreamSphere2.position.set(0,16,0);
		scene.add(iceCreamSphere2);
		
		//white torus
	    const iceCreamTorus = new THREE.Mesh(iceCreamTorusGeometry, iceCreamMaterial2);
	    scene.add(iceCreamTorus);
	    iceCreamTorus.rotation.x = Math.PI / 2;
	    iceCreamTorus.position.set(0, 14, 0);

	    //bottom cone
	    const iceCreamConeGeometry = new THREE.CylinderGeometry( 5, 3.5, 10, 32 );
		const iceCreamConeMaterial = new THREE.MeshPhongMaterial( {color: 0xC4AE78} );
		const iceCreamCylinder = new THREE.Mesh(iceCreamConeGeometry, iceCreamConeMaterial);
		scene.add(iceCreamCylinder);

		//top cone
		const iceCreamConeGeometry2 = new THREE.CylinderGeometry( 6, 5.3, 5, 32 );
		const iceCreamCylinder2 = new THREE.Mesh(iceCreamConeGeometry2 , iceCreamConeMaterial);
	    scene.add(iceCreamCylinder2);
	    iceCreamCylinder2.position.set(0, 5, 0);

	    //bottom cone mesh
	    const iceCreamConeGeometry3 = new THREE.CylinderGeometry(6, 4.5, 8, 16);
	    const iceCreamConeMaterial2 = new THREE.MeshBasicMaterial({color: 0xffffff, wireframe: true, opacity: 0.2, transparent: true});
	    const iceCreamConeMesh = new THREE.Mesh(iceCreamConeGeometry3, iceCreamConeMaterial2);
	    scene.add(iceCreamConeMesh);
	    iceCreamConeMesh.position.set(0,-2,0);

	    //top cone mesh
	    const iceCreamConeGeometry4 = new THREE.CylinderGeometry(7, 6.3, 5, 16);
	    const iceCreamConeMesh2 = new THREE.Mesh(iceCreamConeGeometry4, iceCreamConeMaterial2);
	    scene.add(iceCreamConeMesh2);
	    iceCreamConeMesh2.position.set(0,4.5,0);





	    


		

	    //animatiion
	    function animate() {
	    	requestAnimationFrame(animate);

	    	/*
		    torus.rotation.x += 0.01;
		    torus.rotation.y += 0.02;
		    torus.rotation.z += 0.00;
		    

		    torusKnot.rotation.x += 0.01;
		    torusKnot.rotation.y += 0.01;
		    torusKnot.rotation.z += 0.01;

		    */


		    //sphere.rotation.y += 0.01;
		    /*
		    pivot.rotation.y += 0.01;
		    pivot.rotation.z += 0.01;
		    */
		    pivot.rotation.y += 0.01;
		    pivot2.rotation.y -= 0.01;
		   
		    iceCreamConeMesh.rotation.y += 0.005;
		    iceCreamConeMesh2.rotation.y -= 0.005;





		    var time = Date.now() * 0.001;
		    //material.color.setHSL( (Math.sin(time) + 0.2) / 2, 3, 0.5 );
		    controls.update();

		    renderer.render(scene, camera);

		}

	    animate();

  	</script>

</body>
</html>