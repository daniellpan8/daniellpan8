<!DOCTYPE html>
<html>
<head>
  	<meta charset="utf-8">
  	<title>Three.js Example</title>
  	<style>
    	body { margin: 0; }
    	canvas { width: 100%; height: 100%; }
    	
  

@media only screen and (min-width: 600px) {
  canvas {
    height: 100%;
  }
}
  	</style>
</head>
<body>

  	<script type="module">

	    import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.121.1/build/three.module.js';
	    import { OrbitControls } from 'https://cdn.jsdelivr.net/npm/three@0.121.1/examples/jsm/controls/OrbitControls.js';
	    import { RGBELoader } from 'https://cdn.jsdelivr.net/npm/three@0.121.1/examples/jsm/loaders/RGBELoader.js';
	    import { GLTFLoader } from 'https://cdn.jsdelivr.net/npm/three@0.121.1/examples/jsm/loaders/GLTFLoader.js';

	    const renderer = new THREE.WebGLRenderer();
	    renderer.setSize(window.innerWidth, window.innerHeight);
	    
	    

	    const scene = new THREE.Scene();

	    const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 10000);
	    camera.position.set(0, 20, 100);
	    camera.position.set(1, 2, 1);
	    

	    //renderer.domElement.addEventListener('mousemove', onMouseMove);
//renderer.domElement.addEventListener('mouseleave', onMouseLeave);
/*
	    const textureLoader = new THREE.TextureLoader();
		const texture = textureLoader.load('https://cdn.polyhaven.com/asset_img/primary/christmas_photo_studio_06.png?height=780', function(texture) {
			texture.mapping = THREE.EquirectangularReflectionMapping;
			texture.encoding = THREE.sRGBEncoding;
		});

		scene.background = texture;
		scene.environment = texture;

*/

		const textureLoader = new THREE.TextureLoader();
		const texture = textureLoader.load('https://dl.polyhaven.org/file/ph-assets/HDRIs/extra/Tonemapped%20JPG/workshop.jpg');
		texture.mapping = THREE.EquirectangularReflectionMapping;
		texture.encoding = THREE.sRGBEncoding;
		texture.anisotropy = renderer.capabilities.getMaxAnisotropy();
		texture.wrapS = THREE.RepeatWrapping;
		texture.repeat.set(2, 1);
		scene.background = texture;
		scene.environment = texture;
	    

	    renderer.toneMapping = THREE.ACESFilmicToneMapping;
	    renderer.toneMappingExposure = 1.0;

	    document.body.appendChild(renderer.domElement);

	    //orbit controls
	    const controls = new OrbitControls(camera, renderer.domElement);
	    controls.target.set(0, 2, 0);
	    controls.autoRotate = true;
	    controls.autoRotateSpeed = 0.5;
	    controls.enableDamping = true;
	    controls.enablePan = false;


	    //room loader
	    const loader = new GLTFLoader();
		loader.load('myRoom.glb', function(gltf) {
			const object = gltf.scene;
			object.position.set(0, 0, 0);
			object.scale.set(2, 2, 2); // scale up by a factor of 2
			scene.add(object);
		}, undefined, function(error) {
			console.error(error);
		});

	   

	    //directionalLight
	    const light = new THREE.PointLight(0xffffff, 0.5, 100);
	    light.position.set(15, 0, 15);
	    scene.add(light);

	    const light2 = new THREE.PointLight(0xffffff, 0.5, 100);
	    light2.position.set(-15, 0, -15);
	    scene.add(light2);

	    const light4 = new THREE.PointLight(0xffffff, 1, 200);
	    light4.position.set(0, 50, 0);
	    scene.add(light4);

	    //ambientLight
	    const light3 = new THREE.AmbientLight(0x404040);
		scene.add(light3);

		//directional light source
		
		
		//gridHelper
	    const gridHelper = new THREE.GridHelper(200, 50, 0xfc03d7, 0xffff00);
		gridHelper.material.opacity = 0.5;
		gridHelper.material.transparent = true;
		scene.add(gridHelper);
		//gridHelper.rotation.x = Math.PI/2;
		//gridHelper.rotation.y = Math.PI/1;
		
	

	    

	    //animatiion
	    function animate() {
	    	requestAnimationFrame(animate);

	   
		    controls.update();

		    renderer.render(scene, camera);

		}
		function render() {
  			requestAnimationFrame(render);
  			renderer.render(scene, camera);
		}

		
	    animate();
	    render();

	    //window.addEventListener('mousemove', onMouseMove);

  	</script>


</body>
</html>
